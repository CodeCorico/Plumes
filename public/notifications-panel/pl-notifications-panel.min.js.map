{"version":3,"sources":["notifications-panel/pl-notifications-panel.js"],"names":["window","Ractive","controller","component","data","el","config","done","_scrolls","NotificationsPanel","plName","$","extend","notifications","dark","texts","empty","emails","emailstoggle","event","isOn","original","stopPropagation","emailsToggleFunc","get","update","pushNotification","content","time","picture","args","viewed","this","unshift","Plumes","bindUses","bindTexts","openitem","on","observe","require","then","findChild"],"mappings":"CAAA,WACE,YAEAA,QAAOC,QAAQC,WAAW,yBAA0B,SAASC,EAAWC,EAAMC,EAAIC,EAAQC,GAExF,GAAIC,GAAW,KAEXC,EAAqBN,GACvBO,OAAQ,yBACRN,KAAMO,EAAEC,QAAO,GACbC,iBACAC,MAAM,EACNC,OACEC,MAAO,uBACPC,OAAQ,UAGVC,aAAc,SAASC,EAAOC,GAC5BD,EAAME,SAASC,iBAEf,IAAIC,GAAmBd,EAAmBe,IAAI,gBAC1CD,IACFA,EAAiBJ,EAAOC,GAGtBZ,GACFA,EAASiB,WAGZrB,GAEHsB,iBAAkB,SAASC,EAASC,EAAMC,EAASC,EAAMC,GACvDC,KAAKC,QAAQ,iBACXJ,QAASA,EACTD,KAAMA,EACND,QAASA,EACTG,KAAMA,GAAQ,KACdC,OAAQA,IAAU,MAKxB/B,QAAOC,QAAQiC,OAAOC,SAAS1B,GAAqB,UAAW,WAE/DT,OAAOC,QAAQiC,OAAOE,UAAU3B,GAE5BL,EAAKiC,UACP5B,EAAmB6B,GAAG,WAAY,SAASnB,GACzCf,EAAKiC,SAASlB,GACdA,EAAME,SAASC,oBAInBb,EAAmB8B,QAAQ,gBAAiB,WACtC/B,GACFA,EAASiB,WAIbhB,EAAmB+B,UAAUC,KAAK,WAChCjC,EAAWC,EAAmBiC,UAAU,OAAQ,cAEhDnC","file":"notifications-panel/pl-notifications-panel.min.js","sourcesContent":["(function() {\n  'use strict';\n\n  window.Ractive.controller('pl-notifications-panel', function(component, data, el, config, done) {\n\n    var _scrolls = null;\n\n    var NotificationsPanel = component({\n      plName: 'pl-notifications-panel',\n      data: $.extend(true, {\n        notifications: [],\n        dark: false,\n        texts: {\n          empty: 'No new notification.',\n          emails: 'emails'\n        },\n\n        emailstoggle: function(event, isOn) {\n          event.original.stopPropagation();\n\n          var emailsToggleFunc = NotificationsPanel.get('emails-toggle');\n          if (emailsToggleFunc) {\n            emailsToggleFunc(event, isOn);\n          }\n\n          if (_scrolls) {\n            _scrolls.update();\n          }\n        }\n      }, data),\n\n      pushNotification: function(content, time, picture, args, viewed) {\n        this.unshift('notifications', {\n          picture: picture,\n          time: time,\n          content: content,\n          args: args || null,\n          viewed: viewed || false\n        });\n      }\n    });\n\n    window.Ractive.Plumes.bindUses(NotificationsPanel, ['section', 'emails']);\n\n    window.Ractive.Plumes.bindTexts(NotificationsPanel);\n\n    if (data.openitem) {\n      NotificationsPanel.on('openitem', function(event) {\n        data.openitem(event);\n        event.original.stopPropagation();\n      });\n    }\n\n    NotificationsPanel.observe('notifications', function() {\n      if (_scrolls) {\n        _scrolls.update();\n      }\n    });\n\n    NotificationsPanel.require().then(function() {\n      _scrolls = NotificationsPanel.findChild('name', 'pl-scrolls');\n\n      done();\n    });\n  });\n\n})();\n"],"sourceRoot":"/source/"}