{"version":3,"sources":["context-panel/pl-context-panel.js"],"names":["window","Ractive","controller","component","data","el","config","done","_sections","$selector","_$el","panel","find","length","_inOpen","ContextPanel","plName","$","extend","opened","usable","open","callback","userBehavior","groupToOpen","fire","set","setTimeout","$sections","each","i","$section","this","addClass","closeContent","removeClass","close","withoutCloseContent","groupOpened","groupName","$group","attr","isGroupOpened","closeIfGroupOpened","isOpened","get","Plumes","bindUses","on","event","oncross","require","then"],"mappings":"CAAA,WACE,YAEAA,QAAOC,QAAQC,WAAW,mBAAoB,SAASC,EAAWC,EAAMC,EAAIC,EAAQC,GAElF,QAASC,KACP,GAAIC,GAAYC,EAAKC,MAAMC,KAAK,YAEhC,OAAOH,GAAUI,OAASH,EAAKC,MAAMC,KAAK,yDAA2DF,EAAKC,MAAMC,KAAK,eAGvH,GAAIE,IAAU,EACVC,EAAeZ,GACba,OAAQ,mBACRZ,KAAMa,EAAEC,QAAO,GACbC,QAAQ,EACRC,QAAQ,GACPhB,GAEHiB,KAAM,SAASC,EAAUC,EAAcC,GACrCD,IAAsC,mBAAhBA,KAA+BA,GAErDT,EAAUU,IAAe,EAEzBT,EAAaU,KAAK,cAChBF,aAAcA,IAGhBR,EAAaW,IAAI,UAAU,GAE3BC,WAAW,WACT,GAAKZ,GAAiBD,EAAtB,CAIA,GAAIc,GAAYpB,GAEhBoB,GAAUC,KAAK,SAASC,GACtB,GAAIC,GAAWd,EAAEe,KAEjBL,YAAW,WACJZ,GAAiBD,GAItBiB,EAASE,SAAS,WACb,GAAJH,KAGLH,WAAW,WACJZ,GAAiBD,IAItBC,EAAaW,IAAI,UAAU,GAE3BX,EAAaU,KAAK,QAChBF,aAAcA,IAGZD,GACFA,MAEyB,IAAxBM,EAAUf,OAAS,GAAW,OAClC,MAGLqB,aAAc,SAASZ,EAAUC,GAC/BA,IAAsC,mBAAhBA,KAA+BA,GAErDT,GAAU,EAEVC,EAAaU,KAAK,sBAChBF,aAAcA,IAGhBR,EAAaW,IAAI,UAAU,EAE3B,IAAIE,GAAYpB,GAEhBoB,GAAUC,KAAK,SAASC,GACtB,GAAIC,GAAWd,EAAEe,KAEjBL,YAAW,WACJZ,IAAgBD,GAIrBiB,EAASI,YAAY,WACS,IAA5BP,EAAUf,OAAS,EAAIiB,MAG7BH,WAAW,WACJZ,IAAgBD,IAIrBC,EAAaU,KAAK,gBAChBF,aAAcA,IAGZD,GACFA,MAEyB,IAAxBM,EAAUf,OAAS,GAAW,MAGrCuB,MAAO,SAASd,EAAUC,EAAcc,GAItC,MAHAd,KAAsC,mBAAhBA,KAA+BA,IACrDc,EAAsBA,IAAuB,IAU7CtB,EAAaU,KAAK,eAChBF,aAAcA,IAGhBR,EAAaW,IAAI,UAAU,OAE3BC,YAAW,WACJZ,IAAgBD,IAIrBC,EAAaU,KAAK,SAChBF,aAAcA,IAGZD,GACFA,MAED,UAzBDU,MAAKE,aAAa,WAChBnB,EAAaqB,MAAMd,EAAUC,GAAc,IAC1CA,IA0BPe,YAAa,SAASC,GACpB,GAAIC,GAAS,IAUb,OARA9B,GAAKC,MAAMC,KAAK,oBAAoBiB,KAAK,WACvC,GAAIZ,EAAEe,MAAMS,KAAK,eAAiBF,EAGhC,MAFAC,GAASvB,EAAEe,OAEJ,IAIJQ,GAGTE,cAAe,SAASH,GACtB,MAAOP,MAAKM,YAAYC,IAAczB,IAAYyB,GAGpDI,mBAAoB,SAASJ,GAC3B,GAAIC,GAASR,KAAKM,YAAYC,EAE1BC,IACFzB,EAAaqB,MAAM,WACjBrB,EAAaU,KAAK,sBAChBe,OAAQA,EACRjB,cAAc,MAEf,IAIPqB,SAAU,WACR,MAAO7B,GAAa8B,IAAI,aAG5BnC,GACEC,MAAOM,EAAEF,EAAaV,IAG5BL,QAAOC,QAAQ6C,OAAOC,SACpBhC,GACC,QAAS,YAAa,eACtB,YAAa,eAGhBA,EAAaiC,GAAG,QAAS,SAASC,GAChC,GAAIC,GAAUnC,EAAa8B,IAAI,WAE3BK,IACFA,EAAQD,KAIZlC,EAAaoC,UAAUC,KAAK7C","file":"context-panel/pl-context-panel.min.js","sourcesContent":["(function() {\n  'use strict';\n\n  window.Ractive.controller('pl-context-panel', function(component, data, el, config, done) {\n\n    function _sections() {\n      var $selector = _$el.panel.find('.pl-group');\n\n      return $selector.length ? _$el.panel.find('.pl-context-panel-title, .pl-group.opened .pl-section') : _$el.panel.find('.pl-section');\n    }\n\n    var _inOpen = false,\n        ContextPanel = component({\n          plName: 'pl-context-panel',\n          data: $.extend(true, {\n            opened: false,\n            usable: false\n          }, data),\n\n          open: function(callback, userBehavior, groupToOpen) {\n            userBehavior = typeof userBehavior == 'undefined' || userBehavior ? true : false;\n\n            _inOpen = groupToOpen || true;\n\n            ContextPanel.fire('beforeOpen', {\n              userBehavior: userBehavior\n            });\n\n            ContextPanel.set('opened', true);\n\n            setTimeout(function() {\n              if (!ContextPanel || !_inOpen) {\n                return;\n              }\n\n              var $sections = _sections();\n\n              $sections.each(function(i) {\n                var $section = $(this);\n\n                setTimeout(function() {\n                  if (!ContextPanel || !_inOpen) {\n                    return;\n                  }\n\n                  $section.addClass('opened');\n                }, i * 80);\n              });\n\n              setTimeout(function() {\n                if (!ContextPanel || !_inOpen) {\n                  return;\n                }\n\n                ContextPanel.set('usable', true);\n\n                ContextPanel.fire('open', {\n                  userBehavior: userBehavior\n                });\n\n                if (callback) {\n                  callback();\n                }\n              }, (($sections.length - 1) * 80) + 450);\n            }, 250);\n          },\n\n          closeContent: function(callback, userBehavior) {\n            userBehavior = typeof userBehavior == 'undefined' || userBehavior ? true : false;\n\n            _inOpen = false;\n\n            ContextPanel.fire('beforeCloseContent', {\n              userBehavior: userBehavior\n            });\n\n            ContextPanel.set('usable', false);\n\n            var $sections = _sections();\n\n            $sections.each(function(i) {\n              var $section = $(this);\n\n              setTimeout(function() {\n                if (!ContextPanel || _inOpen) {\n                  return;\n                }\n\n                $section.removeClass('opened');\n              }, ($sections.length - 1 - i) * 80);\n            });\n\n            setTimeout(function() {\n              if (!ContextPanel || _inOpen) {\n                return;\n              }\n\n              ContextPanel.fire('closeContent', {\n                userBehavior: userBehavior\n              });\n\n              if (callback) {\n                callback();\n              }\n            }, (($sections.length - 1) * 80) + 450);\n          },\n\n          close: function(callback, userBehavior, withoutCloseContent) {\n            userBehavior = typeof userBehavior == 'undefined' || userBehavior ? true : false;\n            withoutCloseContent = withoutCloseContent || false;\n\n            if (!withoutCloseContent) {\n              this.closeContent(function() {\n                ContextPanel.close(callback, userBehavior, true);\n              }, userBehavior);\n\n              return;\n            }\n\n            ContextPanel.fire('beforeClose', {\n              userBehavior: userBehavior\n            });\n\n            ContextPanel.set('opened', false);\n\n            setTimeout(function() {\n              if (!ContextPanel || _inOpen) {\n                return;\n              }\n\n              ContextPanel.fire('close', {\n                userBehavior: userBehavior\n              });\n\n              if (callback) {\n                callback();\n              }\n            }, 250);\n          },\n\n          groupOpened: function(groupName) {\n            var $group = null;\n\n            _$el.panel.find('.pl-group.opened').each(function() {\n              if ($(this).attr('data-group') == groupName) {\n                $group = $(this);\n\n                return false;\n              }\n            });\n\n            return $group;\n          },\n\n          isGroupOpened: function(groupName) {\n            return this.groupOpened(groupName) || _inOpen === groupName;\n          },\n\n          closeIfGroupOpened: function(groupName) {\n            var $group = this.groupOpened(groupName);\n\n            if ($group) {\n              ContextPanel.close(function() {\n                ContextPanel.fire('closeIfGroupOpened', {\n                  $group: $group,\n                  userBehavior: false\n                });\n              }, false);\n            }\n          },\n\n          isOpened: function() {\n            return ContextPanel.get('opened');\n          }\n        }),\n        _$el = {\n          panel: $(ContextPanel.el)\n        };\n\n    window.Ractive.Plumes.bindUses(\n      ContextPanel,\n      ['title', 'leftcross', 'rightcross'],\n      ['leftcross', 'rightcross']\n    );\n\n    ContextPanel.on('cross', function(event) {\n      var oncross = ContextPanel.get('on-cross');\n\n      if (oncross) {\n        oncross(event);\n      }\n    });\n\n    ContextPanel.require().then(done);\n  });\n})();\n"],"sourceRoot":"/source/"}