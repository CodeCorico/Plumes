{"version":3,"sources":["context-panel/pl-context-panel.js"],"names":["window","Ractive","controller","component","data","el","config","done","_sections","$selector","_$el","panel","find","length","_inOpen","ContextPanel","plName","$","extend","opened","usable","open","callback","fire","set","setTimeout","$sections","each","i","$section","this","addClass","closeContent","removeClass","close","isOpened","get","bindUses","on","event","oncross","require","then"],"mappings":"CAAA,WACE,YAEAA,QAAOC,QAAQC,WAAW,mBAAoB,SAASC,EAAWC,EAAMC,EAAIC,EAAQC,GAElF,QAASC,KACP,GAAIC,GAAYC,EAAKC,MAAMC,KAAK,YAEhC,OAAOH,GAAUI,OAASH,EAAKC,MAAMC,KAAK,yDAA2DF,EAAKC,MAAMC,KAAK,eAGvH,GAAIE,IAAU,EACVC,EAAeZ,GACba,OAAQ,mBACRZ,KAAMa,EAAEC,QAAO,GACbC,QAAQ,EACRC,QAAQ,GACPhB,GACHiB,KAAM,SAASC,GACbR,GAAU,EAEVC,EAAaQ,KAAK,cAElBR,EAAaS,IAAI,UAAU,GAE3BC,WAAW,WACT,GAAKX,EAAL,CAIA,GAAIY,GAAYlB,GAEhBkB,GAAUC,KAAK,SAASC,GACtB,GAAIC,GAAWZ,EAAEa,KAEjBL,YAAW,WACJX,GAILe,EAASE,SAAS,WACb,GAAJH,KAGLH,WAAW,WACJX,IAILC,EAAaS,IAAI,UAAU,GAE3BT,EAAaQ,KAAK,QAEdD,GACFA,MAEyB,IAAxBI,EAAUb,OAAS,GAAW,OAClC,MAELmB,aAAc,SAASV,GACrBR,GAAU,EAEVC,EAAaQ,KAAK,sBAElBR,EAAaS,IAAI,UAAU,EAE3B,IAAIE,GAAYlB,GAEhBkB,GAAUC,KAAK,SAASC,GACtB,GAAIC,GAAWZ,EAAEa,KAEjBL,YAAW,WACLX,GAIJe,EAASI,YAAY,WACS,IAA5BP,EAAUb,OAAS,EAAIe,MAG7BH,WAAW,WACLX,IAIJC,EAAaQ,KAAK,gBAEdD,GACFA,MAEyB,IAAxBI,EAAUb,OAAS,GAAW,MAErCqB,MAAO,SAASZ,GACdP,EAAaQ,KAAK,eAElBO,KAAKE,aAAa,WAChBjB,EAAaS,IAAI,UAAU,GAE3BC,WAAW,WACTV,EAAaQ,KAAK,SAEdD,GACFA,KAED,QAGPa,SAAU,WACR,MAAOpB,GAAaqB,IAAI,aAG5B1B,GACEC,MAAOM,EAAEF,EAAaV,IAG5BL,QAAOC,QAAQoC,SACbtB,GACC,QAAS,YAAa,YAAa,eACnC,YAAa,eAGhBA,EAAauB,GAAG,QAAS,SAASC,GAChC,GAAIC,GAAUzB,EAAaqB,IAAI,WAE3BI,IACFA,EAAQD,KAIZxB,EAAa0B,UAAUC,KAAKnC","file":"context-panel/pl-context-panel.min.js","sourcesContent":["(function() {\n  'use strict';\n\n  window.Ractive.controller('pl-context-panel', function(component, data, el, config, done) {\n\n    function _sections() {\n      var $selector = _$el.panel.find('.pl-group');\n\n      return $selector.length ? _$el.panel.find('.pl-context-panel-title, .pl-group.opened .pl-section') : _$el.panel.find('.pl-section');\n    }\n\n    var _inOpen = false,\n        ContextPanel = component({\n          plName: 'pl-context-panel',\n          data: $.extend(true, {\n            opened: false,\n            usable: false\n          }, data),\n          open: function(callback) {\n            _inOpen = true;\n\n            ContextPanel.fire('beforeOpen');\n\n            ContextPanel.set('opened', true);\n\n            setTimeout(function() {\n              if (!_inOpen) {\n                return;\n              }\n\n              var $sections = _sections();\n\n              $sections.each(function(i) {\n                var $section = $(this);\n\n                setTimeout(function() {\n                  if (!_inOpen) {\n                    return;\n                  }\n\n                  $section.addClass('opened');\n                }, i * 80);\n              });\n\n              setTimeout(function() {\n                if (!_inOpen) {\n                  return;\n                }\n\n                ContextPanel.set('usable', true);\n\n                ContextPanel.fire('open');\n\n                if (callback) {\n                  callback();\n                }\n              }, (($sections.length - 1) * 80) + 450);\n            }, 250);\n          },\n          closeContent: function(callback) {\n            _inOpen = false;\n\n            ContextPanel.fire('beforeCloseContent');\n\n            ContextPanel.set('usable', false);\n\n            var $sections = _sections();\n\n            $sections.each(function(i) {\n              var $section = $(this);\n\n              setTimeout(function() {\n                if (_inOpen) {\n                  return;\n                }\n\n                $section.removeClass('opened');\n              }, ($sections.length - 1 - i) * 80);\n            });\n\n            setTimeout(function() {\n              if (_inOpen) {\n                return;\n              }\n\n              ContextPanel.fire('closeContent');\n\n              if (callback) {\n                callback();\n              }\n            }, (($sections.length - 1) * 80) + 450);\n          },\n          close: function(callback) {\n            ContextPanel.fire('beforeClose');\n\n            this.closeContent(function() {\n              ContextPanel.set('opened', false);\n\n              setTimeout(function() {\n                ContextPanel.fire('close');\n\n                if (callback) {\n                  callback();\n                }\n              }, 250);\n            });\n          },\n          isOpened: function() {\n            return ContextPanel.get('opened');\n          }\n        }),\n        _$el = {\n          panel: $(ContextPanel.el)\n        };\n\n    window.Ractive.bindUses(\n      ContextPanel,\n      ['title', 'scrollbar', 'leftcross', 'rightcross'],\n      ['leftcross', 'rightcross']\n    );\n\n    ContextPanel.on('cross', function(event) {\n      var oncross = ContextPanel.get('on-cross');\n\n      if (oncross) {\n        oncross(event);\n      }\n    });\n\n    ContextPanel.require().then(done);\n  });\n})();\n"],"sourceRoot":"/source/"}