!function(){"use strict";window.Ractive.controller("pl-screen-message",function(e,n,t,i,l){function s(e){if(e&&e!=d){var n=a.childrenRequire[0];n.fire("reset"),d=e,a.set("playing",!0),a.set("playingDone",!1),a.set("storyboard",!1),setTimeout(function(){n.fire("play",{message:e.message,callback:o,lineCallback:function(){a.set("messageTop",(r.window.height()-$(n.el).outerHeight())/2),d.lineCallback&&d.lineCallback(n)},displayedLineCallback:d.displayedLineCallback||null,displayTextTime:d.displayTextTime||null,displayWordTime:d.displayWordTime||null,freezeLastLine:d.freezeLastLine||d.lastLineToTitle||null})},550)}}function o(){return d.freezeLastLine?(d.done&&d.done(),void(d=null)):d.lastLineToTitle?(a.set("storyboard","sb-title-1"),d.done&&d.done(),d=null,void setTimeout(function(){a.set("storyboard","sb-title-2"),a.set("messageTop",100)},650)):(a.set("playingDone",!0),void setTimeout(function(){a.set("playing",!1),a.set("playingDone",!1),d.done&&d.done(),d=null},350))}var a=e({plName:"pl-screen-message",data:n}),r={window:$(window)},d=null;a.on("closeTitle",function(e){a.set("storyboard","sb-title-out-1"),a.set("messageTop",70),e&&setTimeout(function(){a.set("storyboard",""),e()},550)}),a.on("play",function(e){s(e)}),a.require().then(l)})}();
//# sourceMappingURL=pl-screen-message.min.js.map
