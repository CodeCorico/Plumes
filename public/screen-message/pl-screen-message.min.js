!function(){"use strict";window.Ractive.controller("pl-screen-message",function(e,n,t,i,s){function l(e){if(e&&e!=r){var n=a.findChild("name","pl-messages-message");n.fire("reset"),r=e,setTimeout(function(){a.set("playing",!0),a.set("playingDone",!1),a.set("storyboard",""),setTimeout(function(){n.fire("play",{message:e.message,callback:o,lineCallback:function(){a.set("messageTop",(d.window.height()-$(n.el).outerHeight())/2),r.lineCallback&&r.lineCallback(n)},displayedLineCallback:r.displayedLineCallback||null,displayTextTime:r.displayTextTime||null,displayWordTime:r.displayWordTime||null,freezeLastLine:r.freezeLastLine||r.lastLineToTitle||null})},550)})}}function o(){return r.freezeLastLine?(r.done&&r.done(),void(r=null)):r.lastLineToTitle?(a.set("storyboard","sb-title-1"),r.done&&r.done(),r=null,void setTimeout(function(){a.set("storyboard","sb-title-2"),a.set("messageTop",40)},650)):(a.set("playingDone",!0),void setTimeout(function(){a.set("playing",!1),a.set("playingDone",!1),r.done&&r.done(),r=null},350))}var a=e({plName:"pl-screen-message",data:n}),d={window:$(window)},r=null;a.on("closeTitle",function(e){a.set("storyboard","sb-title-out-1"),a.set("messageTop",70),e&&setTimeout(function(){a.set("storyboard",""),e()},550)}),a.on("play",function(e){l(e)}),a.require().then(s)})}();
//# sourceMappingURL=pl-screen-message.min.js.map
