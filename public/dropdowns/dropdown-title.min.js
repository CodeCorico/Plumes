!function(){"use strict";window.Ractive.controller("dropdown-title",function(e,t,n,i,o){function l(e,n,i){if(d){n="undefined"==typeof n?!0:n;var o=d.get("titles"),l=null;$.each(o,function(t,n){"string"==typeof e&&e==n.name&&(e=t),n.selected=t===e,t===e&&(l=n)}),d.set("titles",o),d.set("selected.index",e),d.set("selected.name",t.titles[e].name),d.set("noAnimation",!0),setTimeout(function(){s(function(){n&&(l.select(),d.fire("titleSelected",{title:l})),i&&i()})})}}function s(e){d.fire("close",{height:$(n).find(".dropdown-title h2").height()}),d.set("noAnimation",!1),d.set("noCaret",!0),d.set("opened",!1),setTimeout(function(){d.set("noCaret",!1),e&&e()},550)}function c(){s()}var d=null,r={body:$("body")};t.selected={name:"",index:0},t.opened=!1,t.titles&&$.each(t.titles,function(e){this.selected&&(t.selected.index=e,t.selected.name=this.name)});var d=e({data:t,select:l});d.fireSelected=function(){var e=d.get("selected");e&&d.fire("titleSelected",{title:d.get("titles")[e.index]})},d.toggle=function(){t.titles.length<2||(d.get("opened")?s():(d.fire("open",{height:$(n).find(".dropdown-title h2").height()*(t.titles.length+1)}),d.set("opened",!0)))},d.on("mainClick",function(e){e.original.stopPropagation()}),d.on("toggle",function(e){d.toggle(),e.original.stopPropagation()}),d.selectApp=function(e,t,n){return l(e,t,n),d},d.addTitle=function(e,t){var n=d.get("titles");return t="undefined"==typeof t?n.length:t,"string"==typeof t&&(t="top"==t?0:n.length),n.splice(t,0,e),d.set("titles",n),d},d.removeTitle=function(e){for(var t=d.get("titles"),n=0;n<t.length;n++)if(t[n].name==e){t.splice(n,1);break}return d.set("titles",t),d},d.on("teardown",function(){r.body.unbind("click",c)}),r.body.click(c),o()})}();
//# sourceMappingURL=../dropdowns/dropdown-title.min.js.map