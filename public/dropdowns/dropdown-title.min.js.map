{"version":3,"sources":["dropdowns/dropdown-title.js"],"names":["window","Ractive","controller","component","data","el","config","done","_close","dropdownTitle","fire","height","$","find","set","setTimeout","selected","name","index","opened","titles","each","i","this","select","get","toggle","length"],"mappings":"CAAA,WACE,YAEAA,QAAOC,QAAQC,WAAW,iBAAkB,SAASC,EAAWC,EAAMC,EAAIC,EAAQC,GAiBhF,QAASC,KACPC,EAAcC,KAAK,SACjBC,OAAQC,EAAEP,GAAIQ,KAAK,sBAAsBF,WAG3CF,EAAcK,IAAI,eAAe,GACjCL,EAAcK,IAAI,WAAW,GAC7BL,EAAcK,IAAI,UAAU,GAE5BC,WAAW,WACTN,EAAcK,IAAI,WAAW,IAC5B,KA1BLV,EAAKY,UACHC,KAAM,GACNC,MAAO,GAETd,EAAKe,QAAS,EAEVf,EAAKgB,QACPR,EAAES,KAAKjB,EAAKgB,OAAQ,SAASE,GACvBC,KAAKP,WACPZ,EAAKY,SAASE,MAAQI,EACtBlB,EAAKY,SAASC,KAAOM,KAAKN,OAmBhC,IAAIR,GAAgBN,GAClBC,KAAMA,EACNoB,OAAQ,SAASN,GACf,GAAIE,GAASG,KAAKE,IAAI,SACtBb,GAAES,KAAKD,EAAQ,SAASE,GACtBC,KAAKP,SAAWM,IAAMJ,EAElBI,IAAMJ,GACRE,EAAOE,GAAGE,WAIdD,KAAKT,IAAI,SAAUM,GAEnBG,KAAKT,IAAI,iBAAkBI,GAC3BK,KAAKT,IAAI,gBAAiBV,EAAKgB,OAAOF,GAAOD,MAC7CM,KAAKT,IAAI,eAAe,GAExBC,WAAW,WACTP,OAIJkB,OAAQ,WACFtB,EAAKgB,OAAOO,OAAS,IAIrBJ,KAAKE,IAAI,UACXjB,KAGAe,KAAKb,KAAK,QACRC,OAAQC,EAAEP,GAAIQ,KAAK,sBAAsBF,UAAYP,EAAKgB,OAAOO,OAAS,KAE5EJ,KAAKT,IAAI,UAAU,OAKzBP","file":"dropdowns/dropdown-title.min.js","sourcesContent":["(function() {\n  'use strict';\n\n  window.Ractive.controller('dropdown-title', function(component, data, el, config, done) {\n\n    data.selected = {\n      name: '',\n      index: 0\n    };\n    data.opened = false;\n\n    if (data.titles) {\n      $.each(data.titles, function(i) {\n        if (this.selected) {\n          data.selected.index = i;\n          data.selected.name = this.name;\n        }\n      });\n    }\n\n    function _close() {\n      dropdownTitle.fire('close', {\n        height: $(el).find('.dropdown-title h2').height()\n      });\n\n      dropdownTitle.set('noAnimation', false);\n      dropdownTitle.set('noCaret', true);\n      dropdownTitle.set('opened', false);\n\n      setTimeout(function() {\n        dropdownTitle.set('noCaret', false);\n      }, 550);\n    }\n\n    var dropdownTitle = component({\n      data: data,\n      select: function(index) {\n        var titles = this.get('titles');\n        $.each(titles, function(i) {\n          this.selected = i === index;\n\n          if (i === index) {\n            titles[i].select();\n          }\n        });\n\n        this.set('titles', titles);\n\n        this.set('selected.index', index);\n        this.set('selected.name', data.titles[index].name);\n        this.set('noAnimation', true);\n\n        setTimeout(function() {\n          _close();\n        });\n      },\n\n      toggle: function() {\n        if (data.titles.length < 2) {\n          return;\n        }\n\n        if (this.get('opened')) {\n          _close();\n        }\n        else {\n          this.fire('open', {\n            height: $(el).find('.dropdown-title h2').height() * (data.titles.length + 1)\n          });\n          this.set('opened', true);\n        }\n      }\n    });\n\n    done();\n  });\n\n})();\n"],"sourceRoot":"/source/"}