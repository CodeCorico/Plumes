{"version":3,"sources":["dropdowns/dropdown-title.js"],"names":["window","Ractive","controller","component","data","el","config","done","_close","dropdownTitle","fire","height","$","find","set","setTimeout","selected","name","index","opened","titles","each","i","this","select","get","toggle","length"],"mappings":"CAAA,WACE,YAEAA,QAAOC,QAAQC,WAAW,iBAAkB,SAASC,EAAWC,EAAMC,EAAIC,EAAQC,GAiBhF,QAASC,KACPC,EAAcC,KAAK,SACjBC,OAAQC,EAAEP,GAAIQ,KAAK,sBAAsBF,WAG3CF,EAAcK,IAAI,eAAe,GACjCL,EAAcK,IAAI,WAAW,GAC7BL,EAAcK,IAAI,UAAU,GAE5BC,WAAW,WACTN,EAAcK,IAAI,WAAW,IAC5B,KA1BLV,EAAKY,UACHC,KAAM,GACNC,MAAO,GAETd,EAAKe,QAAS,EAEVf,EAAKgB,QACPR,EAAES,KAAKjB,EAAKgB,OAAQ,SAASE,GACvBC,KAAKP,WACPZ,EAAKY,SAASE,MAAQI,EACtBlB,EAAKY,SAASC,KAAOM,KAAKN,OAmBhC,IAAIR,GAAgBN,GAClBC,KAAMA,EACNoB,OAAQ,SAASN,GACf,GAAIE,GAASG,KAAKE,IAAI,SACtBb,GAAES,KAAKD,EAAQ,SAASE,GACtBC,KAAKP,SAAWM,IAAMJ,EAElBI,IAAMJ,GACRE,EAAOE,GAAGE,WAIdD,KAAKT,IAAI,SAAUM,GAEnBG,KAAKT,IAAI,iBAAkBI,GAC3BK,KAAKT,IAAI,gBAAiBV,EAAKgB,OAAOF,GAAOD,MAC7CM,KAAKT,IAAI,eAAe,GAExBC,WAAW,WACTP,OAIJkB,OAAQ,WACFtB,EAAKgB,OAAOO,OAAS,IAIrBJ,KAAKE,IAAI,UACXjB,KAGAe,KAAKb,KAAK,QACRC,OAAQC,EAAEP,GAAIQ,KAAK,sBAAsBF,UAAYP,EAAKgB,OAAOO,OAAS,KAE5EJ,KAAKT,IAAI,UAAU,OAKzBP","file":"dropdowns/dropdown-title.min.js","sourcesContent":["(function() {\r\n  'use strict';\r\n\r\n  window.Ractive.controller('dropdown-title', function(component, data, el, config, done) {\r\n\r\n    data.selected = {\r\n      name: '',\r\n      index: 0\r\n    };\r\n    data.opened = false;\r\n\r\n    if (data.titles) {\r\n      $.each(data.titles, function(i) {\r\n        if (this.selected) {\r\n          data.selected.index = i;\r\n          data.selected.name = this.name;\r\n        }\r\n      });\r\n    }\r\n\r\n    function _close() {\r\n      dropdownTitle.fire('close', {\r\n        height: $(el).find('.dropdown-title h2').height()\r\n      });\r\n\r\n      dropdownTitle.set('noAnimation', false);\r\n      dropdownTitle.set('noCaret', true);\r\n      dropdownTitle.set('opened', false);\r\n\r\n      setTimeout(function() {\r\n        dropdownTitle.set('noCaret', false);\r\n      }, 550);\r\n    }\r\n\r\n    var dropdownTitle = component({\r\n      data: data,\r\n      select: function(index) {\r\n        var titles = this.get('titles');\r\n        $.each(titles, function(i) {\r\n          this.selected = i === index;\r\n\r\n          if (i === index) {\r\n            titles[i].select();\r\n          }\r\n        });\r\n\r\n        this.set('titles', titles);\r\n\r\n        this.set('selected.index', index);\r\n        this.set('selected.name', data.titles[index].name);\r\n        this.set('noAnimation', true);\r\n\r\n        setTimeout(function() {\r\n          _close();\r\n        });\r\n      },\r\n\r\n      toggle: function() {\r\n        if (data.titles.length < 2) {\r\n          return;\r\n        }\r\n\r\n        if (this.get('opened')) {\r\n          _close();\r\n        }\r\n        else {\r\n          this.fire('open', {\r\n            height: $(el).find('.dropdown-title h2').height() * (data.titles.length + 1)\r\n          });\r\n          this.set('opened', true);\r\n        }\r\n      }\r\n    });\r\n\r\n    done();\r\n  });\r\n\r\n})();\r\n"],"sourceRoot":"/source/"}