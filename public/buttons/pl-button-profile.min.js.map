{"version":3,"sources":["buttons/pl-button-profile.js"],"names":["window","Ractive","controller","component","data","el","config","done","NOTIFICATION_DISPLAY_TIME","activeNotification","closeTimeout","buttonProfile","plName","$","extend","notificationDisplayTime","notificationsCount","pushNotification","message","picture","args","forceUncount","clearTimeout","set","get","setTimeout","close","clearNotificationsCount","toggle","on","event","original","stopPropagation"],"mappings":"CAAA,WACE,YAEAA,QAAOC,QAAQC,WAAW,oBAAqB,SAASC,EAAWC,EAAMC,EAAIC,EAAQC,GAEnF,GAAIC,GAA4B,IAE5BC,EAAqB,KACrBC,EAAe,KACfC,EAAgBR,GACdS,OAAQ,oBACRR,KAAMS,EAAEC,QAAO,GACbC,wBAAyBP,EACzBQ,mBAAoB,GACnBZ,GACHa,iBAAkB,SAASC,EAASC,EAASC,EAAMC,GACjDZ,GACES,QAASA,EACTC,QAASA,GAAW,KACpBC,KAAMA,GAAQ,MAGZV,GACFY,aAAaZ,GAGVW,GACHV,EAAcY,IAAI,qBAAsBZ,EAAca,IAAI,sBAAwB,GAGpFb,EAAcY,IAAI,sBAAuBL,GACrCC,GACFR,EAAcY,IAAI,sBAAuBJ,GAG3CM,WAAW,WACTd,EAAcY,IAAI,eAAe,GAEjCE,WAAW,WACTd,EAAce,SACbf,EAAca,IAAI,+BAGzBE,MAAO,WACAf,EAAca,IAAI,iBAIvBf,EAAqB,KACrBE,EAAcY,IAAI,eAAe,GACjCE,WAAW,WACTd,EAAcY,IAAI,sBAAuB,OACxC,OAELI,wBAAyB,WACvBhB,EAAcY,IAAI,qBAAsB,KAI5CnB,GAAKwB,QACPjB,EAAckB,GAAG,SAAU,SAASC,GAClC1B,EAAKwB,OAAOE,EAAOrB,GACnBqB,EAAMC,SAASC,oBAInBzB","file":"buttons/pl-button-profile.min.js","sourcesContent":["(function() {\n  'use strict';\n\n  window.Ractive.controller('pl-button-profile', function(component, data, el, config, done) {\n\n    var NOTIFICATION_DISPLAY_TIME = 6000,\n\n        activeNotification = null,\n        closeTimeout = null,\n        buttonProfile = component({\n          plName: 'pl-button-profile',\n          data: $.extend(true, {\n            notificationDisplayTime: NOTIFICATION_DISPLAY_TIME,\n            notificationsCount: 0\n          }, data),\n          pushNotification: function(message, picture, args, forceUncount) {\n            activeNotification = {\n              message: message,\n              picture: picture || null,\n              args: args || null\n            };\n\n            if (closeTimeout) {\n              clearTimeout(closeTimeout);\n            }\n\n            if (!forceUncount) {\n              buttonProfile.set('notificationsCount', buttonProfile.get('notificationsCount') + 1);\n            }\n\n            buttonProfile.set('notificationMessage', message);\n            if (picture) {\n              buttonProfile.set('notificationPicture', picture);\n            }\n\n            setTimeout(function() {\n              buttonProfile.set('showMessage', true);\n\n              setTimeout(function() {\n                buttonProfile.close();\n              }, buttonProfile.get('notificationDisplayTime'));\n            });\n          },\n          close: function() {\n            if (!buttonProfile.get('showMessage')) {\n              return;\n            }\n\n            activeNotification = null;\n            buttonProfile.set('showMessage', false);\n            setTimeout(function() {\n              buttonProfile.set('notificationPicture', null);\n            }, 700);\n          },\n          clearNotificationsCount: function() {\n            buttonProfile.set('notificationsCount', 0);\n          }\n        });\n\n    if (data.toggle) {\n      buttonProfile.on('toggle', function(event) {\n        data.toggle(event, activeNotification);\n        event.original.stopPropagation();\n      });\n    }\n\n    done();\n  });\n\n})();\n"],"sourceRoot":"/source/"}