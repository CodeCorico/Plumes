{"version":3,"sources":["buttons/pl-button-indicator.js"],"names":["window","Ractive","controller","component","data","el","config","done","NOTIFICATION_DISPLAY_TIME","activeNotification","closeTimeout","ButtonIndicator","plName","$","extend","notificationDisplayTime","notificationsCount","pushNotification","message","picture","args","forceUncount","clearTimeout","set","get","setTimeout","fire","duration","width","close","clearNotificationsCount","action","on","event","original","stopPropagation"],"mappings":"CAAA,WACE,YAEAA,QAAOC,QAAQC,WAAW,sBAAuB,SAASC,EAAWC,EAAMC,EAAIC,EAAQC,GAErF,GAAIC,GAA4B,IAE5BC,EAAqB,KACrBC,EAAe,KACfC,EAAkBR,GAChBS,OAAQ,sBACRR,KAAMS,EAAEC,QAAO,GACbC,wBAAyBP,EACzBQ,mBAAoB,GACnBZ,GACHa,iBAAkB,SAASC,EAASC,EAASC,EAAMC,GACjDZ,GACES,QAASA,EACTC,QAASA,GAAW,KACpBC,KAAMA,GAAQ,MAGZV,GACFY,aAAaZ,GAGVW,GACHV,EAAgBY,IAAI,qBAAsBZ,EAAgBa,IAAI,sBAAwB,GAGxFb,EAAgBY,IAAI,sBAAuBL,GACvCC,GACFR,EAAgBY,IAAI,sBAAuBJ,GAG7CM,WAAW,WACTd,EAAgBY,IAAI,eAAe,GAEnCZ,EAAgBe,KAAK,oBACnBC,SAAU,IACVC,MAAO,MAGTH,WAAW,WACTd,EAAgBkB,SACflB,EAAgBa,IAAI,+BAG3BK,MAAO,WACAlB,EAAgBa,IAAI,iBAIzBf,EAAqB,KACrBE,EAAgBY,IAAI,eAAe,GAEnCZ,EAAgBe,KAAK,oBACnBC,SAAU,IACVC,MAAO,KAGTH,WAAW,WACTd,EAAgBY,IAAI,sBAAuB,OAC1C,OAELO,wBAAyB,WACvBnB,EAAgBY,IAAI,qBAAsB,KAI9CnB,GAAK2B,QACPpB,EAAgBqB,GAAG,SAAU,SAASC,GACpC7B,EAAK2B,OAAOE,EAAOxB,GACnBwB,EAAMC,SAASC,oBAInB5B","file":"buttons/pl-button-indicator.min.js","sourcesContent":["(function() {\n  'use strict';\n\n  window.Ractive.controller('pl-button-indicator', function(component, data, el, config, done) {\n\n    var NOTIFICATION_DISPLAY_TIME = 6000,\n\n        activeNotification = null,\n        closeTimeout = null,\n        ButtonIndicator = component({\n          plName: 'pl-button-indicator',\n          data: $.extend(true, {\n            notificationDisplayTime: NOTIFICATION_DISPLAY_TIME,\n            notificationsCount: 0\n          }, data),\n          pushNotification: function(message, picture, args, forceUncount) {\n            activeNotification = {\n              message: message,\n              picture: picture || null,\n              args: args || null\n            };\n\n            if (closeTimeout) {\n              clearTimeout(closeTimeout);\n            }\n\n            if (!forceUncount) {\n              ButtonIndicator.set('notificationsCount', ButtonIndicator.get('notificationsCount') + 1);\n            }\n\n            ButtonIndicator.set('notificationMessage', message);\n            if (picture) {\n              ButtonIndicator.set('notificationPicture', picture);\n            }\n\n            setTimeout(function() {\n              ButtonIndicator.set('showMessage', true);\n\n              ButtonIndicator.fire('showNotification', {\n                duration: 1000,\n                width: 250\n              });\n\n              setTimeout(function() {\n                ButtonIndicator.close();\n              }, ButtonIndicator.get('notificationDisplayTime'));\n            });\n          },\n          close: function() {\n            if (!ButtonIndicator.get('showMessage')) {\n              return;\n            }\n\n            activeNotification = null;\n            ButtonIndicator.set('showMessage', false);\n\n            ButtonIndicator.fire('hideNotification', {\n              duration: 1000,\n              width: 50\n            });\n\n            setTimeout(function() {\n              ButtonIndicator.set('notificationPicture', null);\n            }, 700);\n          },\n          clearNotificationsCount: function() {\n            ButtonIndicator.set('notificationsCount', 0);\n          }\n        });\n\n    if (data.action) {\n      ButtonIndicator.on('action', function(event) {\n        data.action(event, activeNotification);\n        event.original.stopPropagation();\n      });\n    }\n\n    done();\n  });\n\n})();\n"],"sourceRoot":"/source/"}