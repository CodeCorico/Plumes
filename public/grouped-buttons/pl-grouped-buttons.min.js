!function(){"use strict";window.Ractive.controller("pl-grouped-buttons",function(t,o,e,n,i){function c(t){t.on("showNotification",function(o){var e=parseInt($(t.el).attr("data-index"),10);d.once("positionsChanged",function(){d.set("compactPositionsTop["+e+"]",0),d.set("compactPositions["+e+"]",0),d.get("mode")==s.COMPACT&&d.set("compactButtonPosition",-100)}),d.set("buttons["+e+"].width",o.width+10)}),t.on("hideNotification",function(){var o=parseInt($(t.el).attr("data-index"),10);d.set("buttons["+o+"].width",55),d.get("mode")==s.COMPACT&&d.set("compactButtonPosition",-15)})}function a(t){d.require().then(function(){for(var o=d.get("buttons"),e=d.get("positions"),n=d.get("compactPositionsTop"),i=d.get("compactPositions"),a=d.get("compactOpened"),s=d.get("hidden"),p=$(window).width(),m=0,u=20,r=0,f=60,g=o.length-1;g>=0;g--){var h=o[g],P=d.findChild("data-index",g);if(s?(e[g]=-100,i[g]=-100):(e[g]=m,a?i[g]=u:i[g]=-100),n[g]=r,!P)return;h.isReady||(h.isReady=!0,h.width="indicator"==h.type?55:50,"indicator"==h.type&&c(P,h,g),h.ready&&h.ready(P)),m+=h.width||0,u+=h.width||0,!s&&u>p&&(f+=50,r+=50,u=20,n[g]=r,a&&(i[g]=u))}d.set("positions",e),d.set("compactPositionsTop",n),d.set("compactPositions",i),setTimeout(function(){d.fire("positionsChanged")}),t&&t({compactHeight:f})})}var s={DEFAULT:"default",COMPACT:"compact"},d=t({plName:"pl-grouped-buttons",data:$.extend(!0,{mode:s.DEFAULT,hidden:!0,orientation:"left",buttons:[],positions:[],compactPositionsTop:[],compactPositions:[],compactButtonPosition:-100,compactOpened:!1,compactHeight:0,action:function(t,o){if(o){var e=parseInt($(o.el).attr("data-index"),10),n=d.get("buttons["+e+"]"),o=d.findChild("data-index",e);d.fire("beforeAction",{event:t,button:n,component:o}),d.get("mode")==s.COMPACT&&d.get("compactOpened")&&d.fire("compactAction"),n&&n.action&&n.action(t,o),d.fire("action",{event:t,button:n,component:o})}}},o),hide:function(){d.get("hidden")||(d.set("hidden",!0),d.set("compactButtonPosition",-100),a())},show:function(){d.get("hidden")&&(d.set("hidden",!1),d.get("mode")==s.COMPACT&&d.set("compactButtonPosition",-15),a())},compactMode:function(){d.get("mode")!=s.COMPACT&&(d.set("mode",s.COMPACT),d.set("compactButtonPosition",-15))},defaultMode:function(){d.get("mode")!=s.DEFAULT&&(d.get("compactOpened")&&d.fire("compactAction"),d.set("mode",s.DEFAULT),d.set("compactButtonPosition",-100))}});d.on("compactAction",function(){var t=!d.get("compactOpened");d.fire("beforeCompact",{button:d,opened:t}),d.set("compactOpened",t),a(function(o){t&&d.set("compactHeight",o.compactHeight),d.fire("compact",{button:d,opened:t})})}),d.observe("buttons",function(){a()}),a(),i()})}();
//# sourceMappingURL=pl-grouped-buttons.min.js.map
