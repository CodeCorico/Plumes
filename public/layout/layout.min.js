!function(){"use strict";window.Ractive.controller("layout",function(e,t,n,o,i){function r(e,t){d=!0;var n=p.layout.find(".layout-"+e+"-container"),o=n.find(".layout-"+e+"-bar-container");c.set(e+"ContentExpended",t),c.set(e+"-content-expended",t),c.set(e+"ContentAreaWidth",t?n.width():o.width()),c.set(e+"ContentPos",t?0:-n.width()+o.width()),c.fire("contentResize",{width:p.window.width()-c.get("leftContentAreaWidth")-c.get("rightContentAreaWidth"),height:p.content.outerHeight(),waiting:550}),t?c.set(e+"ContentCollapsedAfter",!1):setTimeout(function(){c.set(e+"ContentCollapsedAfter",!0)},550),d=!1}var l=["usebrand","usetitle","useprofile","usehelp","usemask"],a=["left","right"],d=!1,f=null;$.each(a,function(e,n){t[n+"ContentUsed"]=o&&o.partials&&o.partials[n+"-content"],t[n+"ContentPos"]=0,t[n+"ContentCollapsedAfter"]=!1,t[n+"ContentAreaWidth"]=t[n+"ContentUsed"]?t[n+"ContentWidth"]:30}),t.titleAreaHeight=90,t.loaded=!1;for(var u=0;u<l.length;u++){var s=l[u];t[s]="undefined"==typeof t[s]?!0:t[s],t[s]="true"==t[s]?!0:t[s],t[s]="false"==t[s]?!1:t[s]}var c=e({data:t}),h=c.parentRequire,p={window:$(window),layout:$(c.el),content:$(c.el).find(".layout-content")};$.each(a,function(e,t){c.observe(t+"-content-expended",function(e){if(!d){var n=e===!1||e&&"false"==e?!1:!0;r(t,n)}}),c.observe(t+"-content-title",function(e){d||c.set(t+"ContentTitle",e||null)}),c.observe(t+"-content-width",function(e){d||(c.set(t+"ContentWidth",e?parseInt(e,10):0),r(t,!!c.get(t+"ContentExpended")))})}),c.on("toggleLeftBar toggleRightBar",function(e){var t="toggleLeftBar"==e.name?"left":"right",n=!c.get(t+"ContentExpended");r(t,n)}),r("left",t.leftContentExpended),r("right",t.rightContentExpended),c.on("titleOpen",function(e){c.set("titleAreaHeight",e.height+50)}),c.on("titleClose",function(e){c.set("titleAreaHeight",e.height+50)}),c.selectApp=function(e,t,n){f&&f.selectApp(e,t,n)},c.addApp=function(e,t){f&&f.addTitle(e,t)},c.removeApp=function(e){f&&f.removeTitle(e)},setTimeout(function(){t.onloaded&&t.onloaded(c),c.set("loaded",!0),setTimeout(function(){c.set("beforeStart",!0),setTimeout(function(){$(".layout-mask").remove();var e=t.beforerequire||function(e,t){t()};e(c,function(){c.set("beforerequire",null),t.beforerequire=null,c.set("start",!0),c.require().then(function(){var e=c.findChild("name","dropdown-title");e&&(e.on("open",function(e){c.fire("titleOpen",e)}),e.on("close",function(e){c.fire("titleClose",e)}),e.on("titleSelected",function(e){var t=h.get("cls")||[];t=t.filter(function(e){return 0!==e.indexOf("app-")}),t.push("app-"+e.title.name.toLowerCase().replace(/[^a-z0-9]/gi,"")),h.set("cls",t)}),e.fireSelected()),i()})})},550)},1500)})})}();
//# sourceMappingURL=../layout/layout.min.js.map