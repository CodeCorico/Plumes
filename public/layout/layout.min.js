!function(){"use strict";window.Ractive.controller("layout",function(t,e,n,o,i){function r(t,e,n){if(t&&t.length){var o=t.parents(".layout-"+e+"-container");u.set(e+"ContentExpended",n),u.set(e+"ContentAreaWidth",n?o.width():t.width()),u.set(e+"ContentPos",n?0:-o.width()+t.width()),u.fire("contentResize",{width:c.window.width()-u.get("leftContentAreaWidth")-u.get("rightContentAreaWidth"),height:c.content.outerHeight(),waiting:550}),n?u.set(e+"ContentCollapsedAfter",!1):setTimeout(function(){u.set(e+"ContentCollapsedAfter",!0)},550)}}var l=["usebrand","usetitle","useprofile","usehelp","usemask"],a=null;$.each(["left","right"],function(t,n){e[n+"ContentUsed"]=o&&o.partials&&o.partials[n+"-content"],e[n+"ContentExpended"]=e[n+"-content-expended"]&&"false"==e[n+"-content-expended"]?!1:!0,e[n+"ContentTitle"]=e[n+"-content-title"]||null,e[n+"ContentWidth"]=e[n+"-content-width"]?parseInt(e[n+"-content-width"],10):0,e[n+"ContentPos"]=0,e[n+"ContentCollapsedAfter"]=!1,e[n+"ContentAreaWidth"]=e[n+"ContentUsed"]?e[n+"ContentWidth"]:30}),e.titleAreaHeight=90,e.loaded=!1;for(var d=0;d<l.length;d++){var f=l[d];e[f]="undefined"==typeof e[f]?!0:e[f],e[f]="true"==e[f]?!0:e[f],e[f]="false"==e[f]?!1:e[f]}var u=t({data:e}),s=u.parentRequire,c={window:$(window),content:$(u.el).find(".layout-content")};u.on("toggleLeftBar toggleRightBar",function(t){var e="toggleLeftBar"==t.name?"left":"right",n=!u.get(e+"ContentExpended");r($(t.node),e,n)}),r($(u.el).find(".layout-left-bar-container"),"left",e.leftContentExpended),r($(u.el).find(".layout-right-bar-container"),"right",e.rightContentExpended),u.on("titleOpen",function(t){u.set("titleAreaHeight",t.height+50)}),u.on("titleClose",function(t){u.set("titleAreaHeight",t.height+50)}),u.selectApp=function(t,e,n){a&&a.selectApp(t,e,n)},u.addApp=function(t,e){a&&a.addTitle(t,e)},u.removeApp=function(t){a&&a.removeTitle(t)},setTimeout(function(){e.onloaded&&e.onloaded(u),u.set("loaded",!0),setTimeout(function(){u.set("beforeStart",!0),setTimeout(function(){$(".layout-mask").remove();var t=e.beforerequire||function(t,e){e()};t(u,function(){u.set("beforerequire",null),e.beforerequire=null,u.set("start",!0),u.require().then(function(){var t=u.findChild("name","dropdown-title");t&&(t.on("open",function(t){u.fire("titleOpen",t)}),t.on("close",function(t){u.fire("titleClose",t)}),t.on("titleSelected",function(t){var e=s.get("cls")||[];e=e.filter(function(t){return 0!==t.indexOf("app-")}),e.push("app-"+t.title.name.toLowerCase().replace(/[^a-z0-9]/gi,"")),s.set("cls",e)}),t.fireSelected()),i()})})},550)},1500)})})}();
//# sourceMappingURL=../layout/layout.min.js.map