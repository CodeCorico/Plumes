{"version":3,"sources":["layout/layout-bootstrap.js"],"names":["window","Ractive","bootstrap","callback","_inScope","element","rvRequireCount","parentNode","tag","tagName","toLowerCase","$","partials","$cleaner","append","html","find","remove","$rvPartials","each","i","rvPartial","src","getAttribute","target","trim","innerHTML","page","el","data","cls","template","observe","attr","join"],"mappings":"CAAA,WACE,YAEAA,QAAOC,QAAQC,UAAY,SAASC,GAClC,QAASC,GAASC,EAASC,GAGzB,GAFAA,EAAiBA,GAAkB,GAE9BD,EAAQE,WACX,OAAO,CAGT,IAAIC,GAAMH,EAAQE,WAAWE,QAAQC,aAErC,IAAW,cAAPF,GAGF,GAFAF,IAEIA,EAAiB,EACnB,OAAO,MAGN,IAAW,cAAPE,EACP,OAAO,CAGT,OAAOJ,GAASC,EAAQE,WAAYD,GAGtCK,EAAE,WACA,GAAIC,MACAC,EAAWF,EAAE,WAAWG,OAAOH,EAAE,QAAQI,OAE7CF,GAASG,KAAK,kCAAkCC,QAEhD,IAAIC,GAAcL,EAASG,KAAK,aAEhCE,GAAYC,KAAK,SAASC,EAAGC,GAC3B,GAAIC,GAAMD,EAAUE,aAAa,SAAU,EACvCC,EAASH,EAAUE,aAAa,WAE/BD,GAAOE,GAAUpB,EAASiB,KAC7BT,EAASY,GAAUb,EAAEc,KAAKJ,EAAUK,cAIxCR,EAAYD,QAEZ,IAAIU,GAAO,GAAI3B,QAAOC,SACpB2B,GAAI,OACJC,MACEC,QAEFC,SAAUpB,EAAEc,KAAKZ,EAASE,QAC1BH,SAAUA,GAGZe,GAAKK,QAAQ,MAAO,SAASF,GAC3BnB,EAAEgB,EAAKC,IAAIK,KAAK,QAASH,EAAMA,EAAII,KAAK,KAAO,MAG7C/B,GACFA,EAASwB","file":"layout/layout-bootstrap.min.js","sourcesContent":["(function() {\n  'use strict';\n\n  window.Ractive.bootstrap = function(callback) {\n    function _inScope(element, rvRequireCount) {\n      rvRequireCount = rvRequireCount || 0;\n\n      if (!element.parentNode) {\n        return true;\n      }\n\n      var tag = element.parentNode.tagName.toLowerCase();\n\n      if (tag == 'rv-require') {\n        rvRequireCount++;\n\n        if (rvRequireCount > 1) {\n          return false;\n        }\n      }\n      else if (tag == 'rv-partial') {\n        return false;\n      }\n\n      return _inScope(element.parentNode, rvRequireCount);\n    }\n\n    $(function() {\n      var partials = {},\n          $cleaner = $('<div />').append($('body').html());\n\n      $cleaner.find('script[type=\"text/javascript\"]').remove();\n\n      var $rvPartials = $cleaner.find('rv-partial');\n\n      $rvPartials.each(function(i, rvPartial) {\n        var src = rvPartial.getAttribute('src') || false,\n            target = rvPartial.getAttribute('target');\n\n        if (!src && target && _inScope(rvPartial)) {\n          partials[target] = $.trim(rvPartial.innerHTML);\n        }\n      });\n\n      $rvPartials.remove();\n\n      var page = new window.Ractive({\n        el: 'body',\n        data: {\n          cls: []\n        },\n        template: $.trim($cleaner.html()),\n        partials: partials\n      });\n\n      page.observe('cls', function(cls) {\n        $(page.el).attr('class', cls ? cls.join(' ') : '');\n      });\n\n      if (callback) {\n        callback(page);\n      }\n    });\n  };\n\n})();\n"],"sourceRoot":"/source/"}