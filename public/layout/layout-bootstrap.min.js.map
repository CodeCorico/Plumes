{"version":3,"sources":["layout/layout-bootstrap.js"],"names":["window","Ractive","bootstrap","callback","_inScope","element","rvRequireCount","parentNode","tag","tagName","toLowerCase","$","partials","$cleaner","append","html","find","remove","$rvPartials","each","i","rvPartial","src","getAttribute","target","trim","innerHTML","page","el","template"],"mappings":"CAAA,WACE,YAEAA,QAAOC,QAAQC,UAAY,SAASC,GAClC,QAASC,GAASC,EAASC,GAGzB,GAFAA,EAAiBA,GAAkB,GAE9BD,EAAQE,WACX,OAAO,CAGT,IAAIC,GAAMH,EAAQE,WAAWE,QAAQC,aAErC,IAAW,cAAPF,GAGF,GAFAF,IAEIA,EAAiB,EACnB,OAAO,MAGN,IAAW,cAAPE,EACP,OAAO,CAGT,OAAOJ,GAASC,EAAQE,WAAYD,GAGtCK,EAAE,WACA,GAAIC,MACAC,EAAWF,EAAE,WAAWG,OAAOH,EAAE,QAAQI,OAE7CF,GAASG,KAAK,kCAAkCC,QAEhD,IAAIC,GAAcL,EAASG,KAAK,aAEhCE,GAAYC,KAAK,SAASC,EAAGC,GAC3B,GAAIC,GAAMD,EAAUE,aAAa,SAAU,EACvCC,EAASH,EAAUE,aAAa,WAE/BD,GAAOE,GAAUpB,EAASiB,KAC7BT,EAASY,GAAUb,EAAEc,KAAKJ,EAAUK,cAIxCR,EAAYD,QAEZ,IAAIU,GAAO,GAAI3B,QAAOC,SACpB2B,GAAI,OACJC,SAAUlB,EAAEc,KAAKZ,EAASE,QAC1BH,SAAUA,GAGRT,IACFA,EAASwB","file":"layout/layout-bootstrap.min.js","sourcesContent":["(function() {\r\n  'use strict';\r\n\r\n  window.Ractive.bootstrap = function(callback) {\r\n    function _inScope(element, rvRequireCount) {\r\n      rvRequireCount = rvRequireCount || 0;\r\n\r\n      if (!element.parentNode) {\r\n        return true;\r\n      }\r\n\r\n      var tag = element.parentNode.tagName.toLowerCase();\r\n\r\n      if (tag == 'rv-require') {\r\n        rvRequireCount++;\r\n\r\n        if (rvRequireCount > 1) {\r\n          return false;\r\n        }\r\n      }\r\n      else if (tag == 'rv-partial') {\r\n        return false;\r\n      }\r\n\r\n      return _inScope(element.parentNode, rvRequireCount);\r\n    }\r\n\r\n    $(function() {\r\n      var partials = {},\r\n          $cleaner = $('<div />').append($('body').html());\r\n\r\n      $cleaner.find('script[type=\"text/javascript\"]').remove();\r\n\r\n      var $rvPartials = $cleaner.find('rv-partial');\r\n\r\n      $rvPartials.each(function(i, rvPartial) {\r\n        var src = rvPartial.getAttribute('src') || false,\r\n            target = rvPartial.getAttribute('target');\r\n\r\n        if (!src && target && _inScope(rvPartial)) {\r\n          partials[target] = $.trim(rvPartial.innerHTML);\r\n        }\r\n      });\r\n\r\n      $rvPartials.remove();\r\n\r\n      var page = new window.Ractive({\r\n        el: 'body',\r\n        template: $.trim($cleaner.html()),\r\n        partials: partials\r\n      });\r\n\r\n      if (callback) {\r\n        callback(page);\r\n      }\r\n    });\r\n  };\r\n\r\n})();\r\n"],"sourceRoot":"/source/"}