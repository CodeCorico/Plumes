{"version":3,"sources":["layout/layout.js"],"names":["window","Ractive","controller","component","data","el","config","done","uses","Title","loaded","i","length","use","layout","selectApp","name","fireFunc","callback","addApp","app","indexOrPosition","addTitle","removeApp","removeTitle","setTimeout","onloaded","set","$","remove","beforeRequire","beforerequire","l","require","then","childrenRequire","getAttribute","on","args","fire"],"mappings":"CAAA,WACE,YAEAA,QAAOC,QAAQC,WAAW,SAAU,SAASC,EAAWC,EAAMC,EAAIC,EAAQC,GACxE,GAAIC,IAAQ,WAAY,WAAY,aAAc,UAAW,WACzDC,EAAQ,IAEZL,GAAKM,QAAS,CAEd,KAAK,GAAIC,GAAI,EAAGA,EAAIH,EAAKI,OAAQD,IAAK,CACpC,GAAIE,GAAML,EAAKG,EAEfP,GAAKS,GAA2B,mBAAbT,GAAKS,IAAsB,EAAOT,EAAKS,GAC1DT,EAAKS,GAAoB,QAAbT,EAAKS,IAAiB,EAAOT,EAAKS,GAC9CT,EAAKS,GAAoB,SAAbT,EAAKS,IAAkB,EAAQT,EAAKS,GAGlD,GAAIC,GAASX,GACXC,KAAMA,GAGRU,GAAOC,UAAY,SAASC,EAAMC,EAAUC,GACrCT,GAILA,EAAMM,UAAUC,EAAMC,EAAUC,IAGlCJ,EAAOK,OAAS,SAASC,EAAKC,GACvBZ,GAILA,EAAMa,SAASF,EAAKC,IAGtBP,EAAOS,UAAY,SAASP,GACrBP,GAILA,EAAMe,YAAYR,IAGpBS,WAAW,WACLrB,EAAKsB,UACPtB,EAAKsB,SAASZ,GAGhBA,EAAOa,IAAI,UAAU,GAErBF,WAAW,WACTX,EAAOa,IAAI,eAAe,GAE1BF,WAAW,WACTG,EAAE,gBAAgBC,QAElB,IAAIC,GAAgB1B,EAAK2B,eAAiB,SAASC,EAAGd,GACpDA,IAGFY,GAAchB,EAAQ,WACpBA,EAAOa,IAAI,gBAAiB,MAC5BvB,EAAK2B,cAAgB,KAErBjB,EAAOa,IAAI,SAAS,GAEpBb,EAAOmB,UAAUC,KAAK,WACpB,IAAK,GAAIvB,GAAI,EAAGA,EAAIG,EAAOqB,gBAAgBvB,OAAQD,IACQ,kBAArDG,EAAOqB,gBAAgBxB,GAAGN,GAAG+B,aAAa,UAC5C3B,EAAQK,EAAOqB,gBAAgBxB,GAI/BF,KACFA,EAAM4B,GAAG,OAAQ,SAASC,GACxBxB,EAAOyB,KAAK,YAAaD,KAG3B7B,EAAM4B,GAAG,QAAS,SAASC,GACzBxB,EAAOyB,KAAK,aAAcD,MAI9B/B,SAGH,MAEF","file":"layout/layout.min.js","sourcesContent":["(function() {\n  'use strict';\n\n  window.Ractive.controller('layout', function(component, data, el, config, done) {\n    var uses = ['usebrand', 'usetitle', 'useprofile', 'usehelp', 'usemask'],\n        Title = null;\n\n    data.loaded = false;\n\n    for (var i = 0; i < uses.length; i++) {\n      var use = uses[i];\n\n      data[use] = typeof data[use] == 'undefined' ? true : data[use];\n      data[use] = data[use] == 'true' ? true : data[use];\n      data[use] = data[use] == 'false' ? false : data[use];\n    }\n\n    var layout = component({\n      data: data\n    });\n\n    layout.selectApp = function(name, fireFunc, callback) {\n      if (!Title) {\n        return;\n      }\n\n      Title.selectApp(name, fireFunc, callback);\n    };\n\n    layout.addApp = function(app, indexOrPosition) {\n      if (!Title) {\n        return;\n      }\n\n      Title.addTitle(app, indexOrPosition);\n    };\n\n    layout.removeApp = function(name) {\n      if (!Title) {\n        return;\n      }\n\n      Title.removeTitle(name);\n    };\n\n    setTimeout(function() {\n      if (data.onloaded) {\n        data.onloaded(layout);\n      }\n\n      layout.set('loaded', true);\n\n      setTimeout(function() {\n        layout.set('beforeStart', true);\n\n        setTimeout(function() {\n          $('.layout-mask').remove();\n\n          var beforeRequire = data.beforerequire || function(l, callback) {\n            callback();\n          };\n\n          beforeRequire(layout, function() {\n            layout.set('beforerequire', null);\n            data.beforerequire = null;\n\n            layout.set('start', true);\n\n            layout.require().then(function() {\n              for (var i = 0; i < layout.childrenRequire.length; i++) {\n                if (layout.childrenRequire[i].el.getAttribute('name') == 'dropdown-title') {\n                  Title = layout.childrenRequire[i];\n                }\n              }\n\n              if (Title) {\n                Title.on('open', function(args) {\n                  layout.fire('titleOpen', args);\n                });\n\n                Title.on('close', function(args) {\n                  layout.fire('titleClose', args);\n                });\n              }\n\n              done();\n            });\n          });\n        }, 550);\n\n      }, 1500);\n    });\n  });\n\n})();\n"],"sourceRoot":"/source/"}