{"version":3,"sources":["layout/layout.js"],"names":["window","Ractive","controller","component","data","el","config","done","uses","loaded","i","length","use","layout","setTimeout","onloaded","set","$","remove","beforeRequire","beforerequire","l","callback","require","then","title","childrenRequire","getAttribute","on","args","fire"],"mappings":"CAAA,WACE,YAEAA,QAAOC,QAAQC,WAAW,SAAU,SAASC,EAAWC,EAAMC,EAAIC,EAAQC,GACxE,GAAIC,IAAQ,WAAY,WAAY,aAAc,UAAW,UAE7DJ,GAAKK,QAAS,CAEd,KAAK,GAAIC,GAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAAK,CACpC,GAAIE,GAAMJ,EAAKE,EAEfN,GAAKQ,GAA2B,mBAAbR,GAAKQ,IAAsB,EAAOR,EAAKQ,GAC1DR,EAAKQ,GAAoB,QAAbR,EAAKQ,IAAiB,EAAOR,EAAKQ,GAC9CR,EAAKQ,GAAoB,SAAbR,EAAKQ,IAAkB,EAAQR,EAAKQ,GAGlD,GAAIC,GAASV,GACXC,KAAMA,GAGRU,YAAW,WACLV,EAAKW,UACPX,EAAKW,SAASF,GAGhBA,EAAOG,IAAI,UAAU,GAErBF,WAAW,WACTD,EAAOG,IAAI,eAAe,GAE1BF,WAAW,WACTG,EAAE,gBAAgBC,QAElB,IAAIC,GAAgBf,EAAKgB,eAAiB,SAASC,EAAGC,GACpDA,IAGFH,GAAcN,EAAQ,WACpBA,EAAOG,IAAI,gBAAiB,MAC5BZ,EAAKgB,cAAgB,KAErBP,EAAOG,IAAI,SAAS,GAEpBH,EAAOU,UAAUC,KAAK,WAGpB,IAAK,GAFDC,GAEKf,EAAI,EAAGA,EAAIG,EAAOa,gBAAgBf,OAAQD,IACQ,kBAArDG,EAAOa,gBAAgBhB,GAAGL,GAAGsB,aAAa,UAC5CF,EAAQZ,EAAOa,gBAAgBhB,GAI/Be,KACFA,EAAMG,GAAG,OAAQ,SAASC,GACxBhB,EAAOiB,KAAK,YAAaD,KAG3BJ,EAAMG,GAAG,QAAS,SAASC,GACzBhB,EAAOiB,KAAK,aAAcD,MAI9BtB,SAGH,MAEF","file":"layout/layout.min.js","sourcesContent":["(function() {\r\n  'use strict';\r\n\r\n  window.Ractive.controller('layout', function(component, data, el, config, done) {\r\n    var uses = ['usebrand', 'usetitle', 'useprofile', 'usehelp', 'usemask'];\r\n\r\n    data.loaded = false;\r\n\r\n    for (var i = 0; i < uses.length; i++) {\r\n      var use = uses[i];\r\n\r\n      data[use] = typeof data[use] == 'undefined' ? true : data[use];\r\n      data[use] = data[use] == 'true' ? true : data[use];\r\n      data[use] = data[use] == 'false' ? false : data[use];\r\n    }\r\n\r\n    var layout = component({\r\n      data: data\r\n    });\r\n\r\n    setTimeout(function() {\r\n      if (data.onloaded) {\r\n        data.onloaded(layout);\r\n      }\r\n\r\n      layout.set('loaded', true);\r\n\r\n      setTimeout(function() {\r\n        layout.set('beforeStart', true);\r\n\r\n        setTimeout(function() {\r\n          $('.layout-mask').remove();\r\n\r\n          var beforeRequire = data.beforerequire || function(l, callback) {\r\n            callback();\r\n          };\r\n\r\n          beforeRequire(layout, function() {\r\n            layout.set('beforerequire', null);\r\n            data.beforerequire = null;\r\n\r\n            layout.set('start', true);\r\n\r\n            layout.require().then(function() {\r\n              var title;\r\n\r\n              for (var i = 0; i < layout.childrenRequire.length; i++) {\r\n                if (layout.childrenRequire[i].el.getAttribute('name') == 'dropdown-title') {\r\n                  title = layout.childrenRequire[i];\r\n                }\r\n              }\r\n\r\n              if (title) {\r\n                title.on('open', function(args) {\r\n                  layout.fire('titleOpen', args);\r\n                });\r\n\r\n                title.on('close', function(args) {\r\n                  layout.fire('titleClose', args);\r\n                });\r\n              }\r\n\r\n              done();\r\n            });\r\n          });\r\n        }, 550);\r\n\r\n      }, 1500);\r\n    });\r\n  });\r\n\r\n})();\r\n"],"sourceRoot":"/source/"}