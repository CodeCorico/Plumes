!function(){"use strict";window.Ractive.controller("pl-messages-message",function(e,i,a,l,n){function s(e,i){if(0===e)return void i();var a=c.get("words");a.forEach(function(e,i){c.set("words["+i+"].out",!0)}),setTimeout(function(){i()},350)}function t(e,i,a){s(i,function(){if(e.length==i)return void(a.callback&&a.callback());var l=(e[i].match(/<(\w+)[^>]*>.*?<\/\1>\.?|\S+/g)||[""]).map(function(e){return{word:e,display:!1,out:!1}});c.set("words",l),a.lineCallback&&a.lineCallback(c),setTimeout(function(){l.forEach(function(e,i){setTimeout(function(){c.set("words["+i+"].display",!0)},a.displayWordTime*i)}),setTimeout(function(){a.displayedLineCallback&&a.displayedLineCallback(c),i++,setTimeout(function(){e.length==i&&a.freezeLastLine?a.callback&&a.callback():t(e,i,a)},a.displayTextTime)},a.displayWordTime*l.length+350)})})}var o=3e3,d=150,c=e({plName:"pl-messages-message",data:i}),u=null;c.on("reset",function(){u=null,c.set("words",null)}),c.on("play",function(e){e=e||{},e.message&&(e.message="string"==typeof e.message?[e.message]:e.message,setTimeout(function(){e=$.extend(!0,{callback:null,lineCallback:null,displayedLineCallback:null,displayTextTime:o,displayWordTime:d,freezeLastLine:!1},e),e.displayTextTime=e.displayTextTime||0===e.displayTextTime?e.displayTextTime:o,e.displayWordTime=e.displayWordTime||0===e.displayWordTime?e.displayWordTime:d,u=e.message,t(e.message,0,e)}))}),c.on("hideMessage",function(e){return u&&u.length?void s(u.length-1,function(){e&&e()}):void(e&&e())}),n()})}();
//# sourceMappingURL=pl-messages-message.min.js.map
