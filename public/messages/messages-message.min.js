!function(){"use strict";window.Ractive.controller("messages-message",function(e,i,n,t,l){function a(e,i){if(0===e)return void i();var n=u.get("words");n.forEach(function(e,i){u.set("words["+i+"].out",!0)}),setTimeout(function(){i()},350)}function s(e,i,n){a(i,function(){if(e.length==i)return void(n.callback&&n.callback());var t=e[i].split(/ +(?=[^<]*(<[^/]|$))/g).filter(function(e){return!!e.trim()}).map(function(e){return{word:e,display:!1,out:!1}});u.set("words",t),n.lineCallback&&n.lineCallback(u),setTimeout(function(){t.forEach(function(e,i){setTimeout(function(){u.set("words["+i+"].display",!0)},n.displayWordTime*i)}),setTimeout(function(){n.displayedLineCallback&&n.displayedLineCallback(u),i++,setTimeout(function(){e.length==i&&n.freezeLastLine?n.callback&&n.callback():s(e,i,n)},n.displayTextTime)},n.displayWordTime*t.length+350)})})}var o=3e3,d=150,c=null,u=e({data:i});u.on("reset",function(){c=null,u.set("words",null)}),u.on("play",function(e){e=e||{},e.message&&(e.message="string"==typeof e.message?[e.message]:e.message,setTimeout(function(){e=$.extend(!0,{callback:null,lineCallback:null,displayedLineCallback:null,displayTextTime:o,displayWordTime:d,freezeLastLine:!1},e),e.displayTextTime=e.displayTextTime||0===e.displayTextTime?e.displayTextTime:o,e.displayWordTime=e.displayWordTime||0===e.displayWordTime?e.displayWordTime:d,c=e.message,s(e.message,0,e)}))}),u.on("hideMessage",function(e){return c&&c.length?void a(c.length-1,function(){e&&e()}):void(e&&e())}),l()})}();
//# sourceMappingURL=../messages/messages-message.min.js.map