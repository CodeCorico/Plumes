!function(){"use strict";window.Ractive.controller("grouped-list",function(e,t,i,o,n){function l(){r.fire("refresh")}t.lvl=0,t.level=function(e){return e.split("items").length-2};var r=e({data:t}),s={window:$(window),list:$(r.el).find(".grouped-list"),content:$(r.el).find(".grouped-list-content")};r.on("refresh",function(){var e=s.list.get(0).scrollTop,t=null;s.content.children().each(function(){var i=e,o=$(this),n=o.data("level");o.removeClass("grouped-list-fixed grouped-list-fixed-last").css("top","");var l=o.position().top;if(0!==n){var d=$(o.prevAll(".level-"+(n-1)).get(0));i=Math.max(l,d.position().top+d.outerHeight(!0))}if(i>l){var a=o.outerHeight(!0),f=o.find("~ .grouped-list-item").filter(function(){return $(this).data("level")<=n});f=f.length?$(f.get(0)):null;var u=f?f.position().top-a:s.content.outerHeight()-a;o.css({"z-index":9999-n,top:Math.min(i,u)-l}),u>i&&(o.addClass("grouped-list-fixed"),t=o,r.fire("fixed",{item:o}))}}),t&&(t.addClass("grouped-list-fixed-last"),r.fire("lastFixed",{item:t}))}),s.list.scroll(l),s.window.resize(l),r.on("teardown",function(){s.window.off("resize",l)}),r.observe("items",l),l(),n()})}();
//# sourceMappingURL=../lists/grouped-list.min.js.map