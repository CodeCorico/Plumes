!function(){"use strict";window.Ractive.controller("grouped-list",function(t,e,i,o,l){function n(){s.fire("refresh")}e.lvl=0,e.level=function(t){return t.split("items").length-2};var s=t({data:e}),r={window:$(window),list:$(s.el).find(".grouped-list"),content:$(s.el).find(".grouped-list-content")};s.on("refresh",function(){var t=r.list.get(0).scrollTop,e=null;r.content.children().each(function(){var i=$(this),o=i.data("level");i.removeClass("grouped-list-fixed grouped-list-fixed-last").css("top","");var l=i.position().top;if(0!==o){var n=$(i.prevAll(".level-"+(o-1)).get(0));t=Math.max(l,n.position().top+n.outerHeight(!0))}if(t>l){var s=i.outerHeight(!0),d=i.find("~ .grouped-list-item").filter(function(){return $(this).data("level")<=o});d=d.length?$(d.get(0)):null;var a=d?d.position().top-s:r.list.outerHeight()-s;i.css({"z-index":9999-o,top:Math.min(t,a)-l}),a>t&&(i.addClass("grouped-list-fixed"),e=i)}}),e&&e.addClass("grouped-list-fixed-last")}),r.list.scroll(n),r.window.resize(n),s.on("teardown",function(){r.window.off("resize",n)}),s.observe("items",n),n(),l()})}();
//# sourceMappingURL=../lists/grouped-list.min.js.map